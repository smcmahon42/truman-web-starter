"use strict";var gulp=require("gulp"),$=require("gulp-load-plugins")(),browserSync=require("browser-sync"),reload=browserSync.reload,AUTOPREFIXER_BROWSERS=["last 2 versions","ie >= 9","ie_mob >= 10","ff >= 30","chrome >= 34","safari >= 7","opera >= 23","ios >= 7","android >= 4.4","bb >= 10"];gulp.task("scripts",function(){return gulp.src("src/js/**/*.js").pipe($.jshint()).pipe($.jshint.reporter("jshint-stylish")).pipe($.uglify()).pipe(gulp.dest("public/assets/js")).pipe($.livereload())}),gulp.task("styles",function(){return gulp.src(["src/scss/*.scss"]).pipe($.changed("styles",{extension:".scss"})).pipe($.rubySass({style:"compressed",precision:10}).on("error",console.error.bind(console))).pipe($.autoprefixer(AUTOPREFIXER_BROWSERS)).pipe(gulp.dest("public/assets/css")).pipe($["if"]("*.css",$.csso())).pipe(gulp.dest("public/assets/css")).pipe($.size({title:"styles"})).pipe($.livereload())}),gulp.task("images",function(){return gulp.src("public/assets/images/**/*").pipe($.cache($.imagemin({progressive:!0,interlaced:!0}))).pipe(gulp.dest("public/assets/images")).pipe($.size({title:"images"}))}),gulp.task("default",["styles","scripts"],function(){browserSync({proxy:"http://local.ijm.com"}),gulp.watch(["craft/templates/**/*.html"],reload),gulp.watch(["src/scss/**/*.scss"],["styles",reload]),gulp.watch(["src/js/**/*.js"],["scripts",reload]),gulp.watch(["public/assets/images/**/*"],["images",reload])});